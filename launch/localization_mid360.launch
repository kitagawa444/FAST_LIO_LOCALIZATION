<launch>
  <!-- Launch file for Livox MID360 LiDAR -->

  <arg name="rviz" default="true" />

  <include file="$(find fast_lio)/launch/mapping_mid360.launch" >
    <arg name="rviz" value="false" />
  </include>

  <!-- loalization-->
  <node pkg="fast_lio_localization" type="global_localization.py" name="global_localization" output="screen" />

  <!-- transform  fusion-->
  <node pkg="fast_lio_localization" type="transform_fusion.py" name="transform_fusion" output="screen" />

  <!-- global map-->
  <arg name="map" default="" />
  <node pkg="pcl_ros" type="pcd_to_pointcloud" name="map_publishe" output="screen"
        args="$(arg map) 5 _frame_id:=/map cloud_pcd:=/map" />


  <group if="$(arg rviz)">
    <node launch-prefix="nice" pkg="rviz" type="rviz" name="rviz" args="-d $(find fast_lio_localization)/rviz_cfg/localization.rviz" />
  </group>

</launch>
